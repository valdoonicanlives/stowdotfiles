<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Harmony Finder</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the color swatches */
        .color-swatch {
            width: 100px;
            height: 100px;
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            color: #333; /* A dark grey for readability */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-md */
        }

        /* Inter font for better aesthetics */
        body {
            font-family: "Inter", sans-serif;
        }

        /* Hide default color input text */
        input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        input[type="color"]::-webkit-color-swatch {
            border: none;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-200 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white p-8 rounded-xl shadow-2xl max-w-4xl w-full text-center">
        <h1 class="text-4xl font-extrabold text-gray-800 mb-6">Color Harmony Finder</h1>
        <p class="text-gray-600 mb-8">Select a base color and discover its complementary, analogous, and triadic harmonies.</p>

        <div class="mb-8 flex flex-col items-center">
            <label for="colorPicker" class="text-xl font-semibold text-gray-700 mb-4">Choose Your Color:</label>
            <input type="color" id="colorPicker" value="#3498db" class="w-32 h-32 rounded-lg cursor-pointer border-4 border-blue-500 hover:border-blue-700 transition-all duration-300 ease-in-out">
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Selected Color -->
            <div class="flex flex-col items-center">
                <div id="selectedColorSwatch" class="color-swatch bg-blue-500">
                    <span id="selectedColorHex">#3498DB</span>
                </div>
                <p class="mt-2 text-lg font-medium text-gray-700">Selected Color</p>
            </div>

            <!-- Complementary Color -->
            <div class="flex flex-col items-center">
                <div id="complementaryColorSwatch" class="color-swatch bg-red-500">
                    <span id="complementaryColorHex">#EB6724</span>
                </div>
                <p class="mt-2 text-lg font-medium text-gray-700">Complementary</p>
            </div>

            <!-- Analogous Colors -->
            <div class="flex flex-col items-center col-span-1 md:col-span-2 lg:col-span-1">
                <div class="flex space-x-4">
                    <div id="analogousColor1Swatch" class="color-swatch bg-green-400">
                        <span id="analogousColor1Hex">#4CAF50</span>
                    </div>
                    <div id="analogousColor2Swatch" class="color-swatch bg-teal-400">
                        <span id="analogousColor2Hex">#009688</span>
                    </div>
                </div>
                <p class="mt-2 text-lg font-medium text-gray-700">Analogous Colors</p>
            </div>

            <!-- Triadic Colors -->
            <div class="flex flex-col items-center col-span-1 md:col-span-2 lg:col-span-1">
                <div class="flex space-x-4">
                    <div id="triadicColor1Swatch" class="color-swatch bg-purple-500">
                        <span id="triadicColor1Hex">#9C27B0</span>
                    </div>
                    <div id="triadicColor2Swatch" class="color-swatch bg-yellow-500">
                        <span id="triadicColor2Hex">#FFEB3B</span>
                    </div>
                </div>
                <p class="mt-2 text-lg font-medium text-gray-700">Triadic Colors</p>
            </div>
        </div>
    </div>

    <script>
        // Get references to DOM elements
        const colorPicker = document.getElementById('colorPicker');
        const selectedColorSwatch = document.getElementById('selectedColorSwatch');
        const selectedColorHex = document.getElementById('selectedColorHex');
        const complementaryColorSwatch = document.getElementById('complementaryColorSwatch');
        const complementaryColorHex = document.getElementById('complementaryColorHex');
        const analogousColor1Swatch = document.getElementById('analogousColor1Swatch');
        const analogousColor1Hex = document.getElementById('analogousColor1Hex');
        const analogousColor2Swatch = document.getElementById('analogousColor2Swatch');
        const analogousColor2Hex = document.getElementById('analogousColor2Hex');
        const triadicColor1Swatch = document.getElementById('triadicColor1Swatch');
        const triadicColor1Hex = document.getElementById('triadicColor1Hex');
        const triadicColor2Swatch = document.getElementById('triadicColor2Swatch');
        const triadicColor2Hex = document.getElementById('triadicColor2Hex');

        /**
         * Converts an RGB color value to HSL. Conversion formula
         * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
         * Assumes r, g, and b are contained in the set [0, 255] and
         * returns h, s, and l in the set [0, 1].
         *
         * @param   Number  r       The red color value
         * @param   Number  g       The green color value
         * @param   Number  b       The blue color value
         * @return  Array           The HSL representation
         */
        function rgbToHsl(r, g, b) {
            r /= 255, g /= 255, b /= 255;

            let max = Math.max(r, g, b),
                min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0; // achromatic
            } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                switch (max) {
                    case r:
                        h = (g - b) / d + (g < b ? 6 : 0);
                        break;
                    case g:
                        h = (b - r) / d + 2;
                        break;
                    case b:
                        h = (r - g) / d + 4;
                        break;
                }
                h /= 6;
            }
            return [h * 360, s * 100, l * 100]; // Return hue in degrees, saturation/lightness in percentage
        }

        /**
         * Converts an HSL color value to RGB. Conversion formula
         * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
         * Assumes h, s, and l are contained in the set [0, 360] for h, and [0, 100] for s, l
         * and returns r, g, and b in the set [0, 255].
         *
         * @param   Number  h       The hue
         * @param   Number  s       The saturation
         * @param   Number  l       The lightness
         * @return  Array           The RGB representation
         */
        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            let r, g, b;

            if (s === 0) {
                r = g = b = l; // achromatic
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };

                let q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                let p = 2 * l - q;

                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }
            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
        }

        /**
         * Converts an RGB array to a hexadecimal string.
         * @param   Array   rgb     [r, g, b] array
         * @return  String          Hexadecimal string (e.g., "#RRGGBB")
         */
        function rgbToHex(rgb) {
            return "#" + ((1 << 24) + (rgb[0] << 16) + (rgb[1] << 8) + rgb[2]).toString(16).slice(1).toUpperCase();
        }

        /**
         * Converts a hexadecimal string to an RGB array.
         * @param   String  hex     Hexadecimal string (e.g., "#RRGGBB")
         * @return  Array           [r, g, b] array
         */
        function hexToRgb(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return [r, g, b];
        }

        /**
         * Updates the UI with the given color and its calculated harmonies.
         * @param {string} hexColor The selected color in hex format (e.g., "#RRGGBB").
         */
        function updateColors(hexColor) {
            // Display selected color
            selectedColorSwatch.style.backgroundColor = hexColor;
            selectedColorHex.textContent = hexColor.toUpperCase();

            // Convert hex to RGB, then to HSL
            const [r, g, b] = hexToRgb(hexColor);
            let [h, s, l] = rgbToHsl(r, g, b);

            // Ensure hue is always positive and within 0-360 range
            h = (h % 360 + 360) % 360;

            // Calculate Complementary Color
            const complementaryH = (h + 180) % 360;
            const complementaryRgb = hslToRgb(complementaryH, s, l);
            const complementaryHex = rgbToHex(complementaryRgb);
            complementaryColorSwatch.style.backgroundColor = complementaryHex;
            complementaryColorHex.textContent = complementaryHex.toUpperCase();

            // Calculate Analogous Colors (e.g., +/- 30 degrees from hue)
            const analogousH1 = (h + 30) % 360;
            const analogousRgb1 = hslToRgb(analogousH1, s, l);
            const analogousHex1 = rgbToHex(analogousRgb1);
            analogousColor1Swatch.style.backgroundColor = analogousHex1;
            analogousColor1Hex.textContent = analogousHex1.toUpperCase();

            const analogousH2 = (h - 30 + 360) % 360; // Ensure positive hue
            const analogousRgb2 = hslToRgb(analogousH2, s, l);
            const analogousHex2 = rgbToHex(analogousRgb2);
            analogousColor2Swatch.style.backgroundColor = analogousHex2;
            analogousColor2Hex.textContent = analogousHex2.toUpperCase();

            // Calculate Triadic Colors (e.g., +/- 120 degrees from hue)
            const triadicH1 = (h + 120) % 360;
            const triadicRgb1 = hslToRgb(triadicH1, s, l);
            const triadicHex1 = rgbToHex(triadicRgb1);
            triadicColor1Swatch.style.backgroundColor = triadicHex1;
            triadicColor1Hex.textContent = triadicHex1.toUpperCase();

            const triadicH2 = (h - 120 + 360) % 360; // Ensure positive hue
            const triadicRgb2 = hslToRgb(triadicH2, s, l);
            const triadicHex2 = rgbToHex(triadicRgb2);
            triadicColor2Swatch.style.backgroundColor = triadicHex2;
            triadicColor2Hex.textContent = triadicHex2.toUpperCase();
        }

        // Event listener for color picker changes
        colorPicker.addEventListener('input', (event) => {
            updateColors(event.target.value);
        });

        // Initial update when the page loads with the default color
        window.onload = () => {
            updateColors(colorPicker.value);
        };
    </script>
</body>
</html>
